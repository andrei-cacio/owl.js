define("owl",["require","exports","module"],function(t,e,n){var i={require:function(){console.info("Please use require instead of owl.require")},define:function(){console.info("Please use define instead of owl.define")}};return function(t,e){var n,i,r={baseUrl:"/"},o=null,s={},a={},u={},c=!1;e.history={init:function(t){n=e.util.extend(r,t,!0)},getOption:function(t){return n[t]},start:function(){var e=this;this.open(this.getLocation()),i=t.addEventListener("popstate",function(){e.open(e.getLocation())},!1),c=!0},isStarted:function(){return c},stop:function(){t.removeEventListener("popstate",i)},navigate:function(e){t.history.pushState(null,null,n.baseUrl+e),this.open(e)},replace:function(e){t.history.replaceState(null,null,n.baseUrl+e),this.open(e)},getLocation:function(){return t.location.pathname.replace(n.baseUrl,"").replace(/\/$/,"")},getHash:function(){return t.location.hash.substr(1)},setHash:function(e){t.location.hash=e},open:function(t){var e;return Object.keys(s).some(function(n){return t===n||0===t.indexOf(n)&&t.length>n.length&&"/"===t[n.length]?(e=s[n],t=t.replace(n,""),!0):!1}),e||(e=o),e?(this.trigger("change"),void e.open(t)):void console.log("Default router is not defined")},setRouter:function(t,e){s[t]=e},removeRouter:function(t){delete s[t]},getRouter:function(t){return s[t]},setDefaultRouter:function(t){o=t},getDefaultRouter:function(){return o},setResolve:function(t,e){a[t]=e},removeResolve:function(t){delete a[t]},getResolve:function(t){return a[t]},on:function(t,e){u[t]||(u[t]=[]),u[t].push(e)},off:function(t,e){if(u[t]){var n=-1;u[t].forEach(function(t,i){t===e&&(n=i)}),u[t].splice(n,1)}},trigger:function(t){u[t]&&u[t].forEach(function(t){t()})}}}(window,i),function(t,e){e.util={clone:function(t,e){var n,i=this;return null===t||"object"!=typeof t?t:t instanceof Date?(n=new Date,n.setTime(t.getTime()),n):t instanceof Array?(n=[],t.forEach(function(t,e){n[e]=i.clone(t)}),n):(n={},Object.keys(t).forEach(function(r){n[r]=e?i.clone(t[r],e):t[r]}),n)},extend:function(t,e,n){var i=this,r=this.clone(t,!0);return Object.keys(e).forEach(function(t){"object"==typeof r[t]&&null!==r[t]&&n?r[t]=i.extend(r[t],e[t],n):r[t]=e[t]}),r}}}(window,i),function(t,e){function n(t,e,n){var i=this;this.routes=[],this.defaultRoute=e||{callback:function(){console.log("Default route is not defined")}},this.controller=n||null,t instanceof Array&&t.forEach(function(t){i.addRoute(t)})}n.prototype={open:function(t){var e=this.getRoute(t);e&&this.resolve(e)&&this.run(t,e)},resolve:function(t){var n=t.resolves;return n&&n.length?n.every(function(t){var n=e.history.getResolve(t);return n?n():(console.info("Resolve"+t+"is not found"),!0)}):!0},run:function(t,e){var n,i,r,o={};if(e.regexp&&(n=t.match(e.regexp)))for(r=1;r<n.length;r++)o[e.params[r-1]]=n[r];e.action&&(e.controller||this.controller)?(i=e.controller||this.controller,i[e.action]?i[e.action](o):console.info("Action "+e.action+" is missing")):e.callback?e.callback(o):console.error("Either controller.action and callback are missing")},addRoute:function(t){var e=/:[a-zA-Z0-9]*/g,n=t.path.replace(e,"([^/]*)"),i=t.path.match(e),r={};i&&(t.regexp=new RegExp("^"+n+"$"),r=i.map(function(t){return t.substring(1)})),t.params=r,this.routes.push(t)},getRoute:function(t){var e;return this.routes.some(function(n){var i=n.regexp?n.regexp.test(t):n.path===t;return i?(e=n,!0):!1}),e?e:this.defaultRoute},setDefaultRoute:function(t){this.defaultRoute=t},getDefaultRoute:function(){return this.defaultRoute},setController:function(t){this.controller=t},getController:function(){return this.controller}},e.Router=n}(window,i),function(t,e){function n(e){var n=this;e=e||{},this.el=e.el||t.document.createElement("div"),this.elements={},this.className=e.className||"",this.events=e.events||{},this.template=e.template||null,this.model=e.model,this.collection=e.collection,this.contorller=e.contorller,this.specialEvents=["submit","focus","blur"],this.className&&(this.el.className=this.className),Object.keys(this.events).forEach(function(t){var e=t.indexOf(" "),i=t.substr(0,e),r=t.substr(e+1),o=n.events[t],s="$"===r[0];s&&(r=r.substr(1)),-1===n.specialEvents.indexOf(i)&&n.el.addEventListener(i,function(t){var e=s?n.getMatchingElement(t.target,"[data-element="+r+"]")||n.getMatchingElement(t.target,"[data-elements="+r+"]"):n.getMatchingElement(t.target,r);t.target&&e&&n.callEventListener(o,e,t)})})}n.prototype={getMatchingElement:function(t,e){for(;t&&t!==this.el;){if(t.matches(e))return t;t=t.parentNode}return null},update:function(t){t||(t=this.el),this.updateEvents(t),this.updateElements(t)},updateEvents:function(t){var e=this;Object.keys(this.events).forEach(function(n){var i=n.indexOf(" "),r=n.substr(0,i),o=n.substr(i+1),s=e.events[n],a="$"===o[0];-1!==e.specialEvents.indexOf(r)&&(a&&(o=o.substr(1),o="[data-element="+o+"],[data-elements="+o+"]"),Array.prototype.forEach.call(t.querySelectorAll(o),function(t){t.addEventListener(r,function(n){e.callEventListener(s,t,n)})}))})},updateElements:function(t){var e=this;Array.prototype.forEach.call(t.querySelectorAll("[data-element]"),function(t){var n=t.getAttribute("data-element");e.elements[n]=t}),Array.prototype.forEach.call(t.querySelectorAll("[data-elements]"),function(t){var n=t.getAttribute("data-elements");e.elements[n]||(e.elements[n]=[]),e.elements[n].push(t)})},callEventListener:function(t,e,n){this[t]?this[t](e,n):console.error("Method "+t+" is not defined"+(this.className?"in "+this.className:""))},render:function(t){this.el.innerHTML=this.template?this.template(t):"",this.update()},remove:function(){this.el.innerHTML="",this.elements={}},find:function(t){return this.el.querySelector(t)},findAll:function(t){return this.el.querySelectorAll(t)},getEl:function(){return this.el}},e.View=n}(window,i),function(t,e){function n(t,e){this.data=t||{},this.urlRoot=e&&e.urlRoot||"",this.idAttribute=e&&e.idAttribute||"id",this.defaults=e&&e.defaults||{},this.collection=e&&e.collection||null,this.events={}}n.prototype={get:function(t){return this.data[t]||this.defaults[t]},set:function(t,e){this.data[t]=e,this.trigger("change",t)},fetch:function(t){var n=this,i=this.urlRoot;return this.data[this.idAttribute]&&(i+="/"+this.data[this.idAttribute]),i+=e.ajax.toQueryString(t),e.ajax.request({url:i,type:"GET"}).then(function(t){return n.data=t,n.trigger("change",Object.keys(n.data)),t})},clear:function(){this.data={}},save:function(t){var n=this,i=this.urlRoot,r=this.data[this.idAttribute];return r&&(i+="/"+this.data[this.idAttribute]),e.ajax.request({url:i+e.ajax.toQueryString(t),type:r?"PUT":"POST",data:this.data}).then(function(t){return t[n.idAttribute]&&(n.data[n.idAttribute]=t[n.idAttribute]),n.trigger("change",[n.idAttribute]),t})},update:function(t,n){var i=this,r=this.data[this.idAttribute];return r?(this.data=e.util.extend(this.data,t,!0),this.save(n).then(function(e){return i.trigger("change",Object.keys(t)),e})):new Promise(function(t,e){e("Can not update model without id")})},patch:function(t,n){var i=this,r=this.data[this.idAttribute],o=this.urlRoot+"/"+r;return r?(this.data=e.util.extend(this.data,t,!0),e.ajax.request({url:o+e.ajax.toQueryString(n),type:"PATCH",data:t}).then(function(e){return i.trigger("change",Object.keys(t)),e})):new Promise(function(t,e){e("Can not patch model without id")})},destroy:function(t){var n=this,i=this.data[this.idAttribute];return i?e.ajax.request({url:this.urlRoot+"/"+i+e.ajax.toQueryString(t),type:"DELETE"}).then(function(t){return n.clear(),t}):new Promise(function(t,e){e("Can not destroy model without id")})},getData:function(){return this.data},getCollection:function(){return this.collection},on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}))},triggerSingle:function(t){var e=this.events[t];this.collection&&this.collection.trigger(t),e&&e.forEach(function(t){t()})},trigger:function(t,e){var n=this;this.triggerSingle(t),e&&e instanceof Array?e.forEach(function(e){n.triggerSingle(t+":"+e)}):e&&this.triggerSingle(t+":"+e)}},e.Model=n}(window,i),function(t,e){function n(t,e){this.url=e.url,this.model=e.model,this.events={},this.setData(t)}n.prototype={fetch:function(t){var n=this;return e.ajax.request({url:this.url+e.ajax.toQueryString(t),type:"GET"}).then(function(t){return n.setData(t),t})},clear:function(){this.data=[],this.models=[],this.length=0,this.trigger("change")},setData:function(t){var e=this;t instanceof Array?(this.data=t,this.length=t.length,this.models=t.map(function(t){return new e.model(t,{collection:e})})):(this.data=[],this.models=[],this.length=0),e.trigger("change")},getData:function(){return this.data},getModels:function(){return this.models},getLength:function(){return this.length},on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}))},trigger:function(t){var e=this.events[t];e&&e.forEach(function(t){t()})}},e.Collection=n}(window,i),function(t){var e={"Content-Type":"application/json; charset=utf-8"};t.ajax={request:function(n){var i=this;return new t.Promise(function(r,o){var s,a=new XMLHttpRequest,u=n.type||"GET",c=n.url,l=n.data,h=null;"GET"===u||"DELETE"===u?c+=i.toQueryString(l):h=i.toJsonString(l),a.onreadystatechange=function(){var e,i;4===a.readyState&&(a.status>=200&&a.status<300?(e=JSON.parse(a.responseText),n.success&&n.success(e),r(e)):(t.ajax.error(a),n.error&&n.error(a,a.statusText),i=new Error("Respond with "+a.status),i.status=a.status,i.responseText=a.responseText,i.json=JSON.parse(a.responseText),o(i)))},a.open(u,c,!0);for(s in e)e.hasOwnProperty(s)&&a.setRequestHeader(s,e[s]);a.send(h)})},setHeader:function(t,n){e[t]=n},removeHeader:function(t){delete e[t]},error:function(t){console.log(t)},toQueryString:function(t){var e,n=[];if("object"!=typeof t)return t||"";for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+n.join("&")},toJsonString:function(t){return"object"!=typeof t?t||"":JSON.stringify(t)}}}(i),function(t){t.Promise=Promise}(i),i});